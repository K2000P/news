<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>HTML</title>
		<meta name="description" content="">
		<meta name="author" content="pammi">
		<meta name="viewport" content="width=device-width; initial-scale=1.0">
		<link rel="stylesheet" href="js/jquery.mobile-1.4.5.min.css">
		<link rel="stylesheet" href="news.min.css">
		<link rel="stylesheet" href="jquery.mobile.icons.min.css">
		<link rel="stylesheet" href="js/jquery.mobile.structure-1.4.5.min.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<!--<link rel="stylesheet" href="js/jquerymobile/jquery.mobile-1.4.5.css">-->
		<script type="text/javascript" src="js/jquery-3.1.0.min.js"></script>
		<script type="text/javascript" src="jquery.myplugins.js"></script>
		<script type="text/javascript" src="js/jquery-1.11.1.js"></script>
		<script type="text/javascript" src="js/jquery.mobile-1.4.5.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<style>
			#headlines > li,#footer,#header,#header2{
			padding: 10px;
			}
			#ctext{
				float: right;
			}
		</style>
		<script type="text/javascript">
			$(document).on("pageinit",function(){
				var source,newsArr=[];
				var obj,str;
					$("#news li").on("click tap",function(event){
					 source=$(this).attr('id');
					 var url="https://newsapi.org/v1/articles?source="+source+"&sortBy=top&apiKey=5442ba94308445dab5609ac218fc7cc0";
					$.getJSON(url,function(data,status){
						obj=data.articles;
						$.each(obj,function(i,e){
							var publishDt=e.publishedAt;
						if(publishDt!=null){
						publishDt=publishDt.replace('z','+08:00');
						}
						else{
						publishDt="";
						}
						var dt=new Date(publishDt);
						var str='<li class="list-group-item"><a href="'+e.url+'"><h2 class="list-group-item-heading .bg-primary">'+e.title+'</h2></a><p class="list-group-item-text .bg-info">'+e.author+'  '+dt+'</p><br><h4><small>'+e.description+'</small></h4></li>';
						newsArr.push(str);
						});
						$("#mynews").html("");
						for(var i=0;i<newsArr.length;i++){
						$("#mynews").append($(newsArr[i]));


						}
						newsArr.length=0;

				});
				});
				event.stopImmediatePropagation();

			});


		</script>


		</head>
		<body>
	-	<div data-role="page" id="page1" data-theme="b">
		<div data-role="header" id="header"  class="container h2 text-center lead" data-theme="b" >Choose your news</div>
		<div data-role="content" id="content"  class="container h4 lead" data-theme="a">
		Available News Sources
		<ul id="news" data-role="listview" data-inset="true" data-filter="true"><li id="bbc-news"><a href="#defaultpanel">BBC</a></li><li id="reuters"><a href="#defaultpanel">Reuters</a></li><li id="cnbc"><a href="#defaultpanel">CNBC</a></li><li id="fortune"><a href="#defaultpanel">Fortune</a></li>
			<li id="the-new-york-times"><a href="defaultpanel">The New York Times</a></li>
		</ul>
		<div data-role="panel" id="defaultpanel" data-theme="b">

    <div class="panel-content" id="mynews">
            <a href="#demo-links" data-rel="close" data-role="button" data-theme="a" data-icon="delete" data-inline="true">Close panel</a>
    </div><!-- /content wrapper for padding -->
  </div><!-- /defaultpanel -->
		</div>
		<div data-role="footer" id="footer"  class="container text-right h4 small">copyright @2017<br></div>
		</div>
		</body>
		</html>
